# Maintainer: Timo Ter√§s <timo.teras@iki.fi>
pkgname=rameplayer-webui
pkgver=0.1.0
pkgrel=0
pkgdesc="Rameplayer Web Interface"
url="https://github.com/rameplayerorg/rameplayer-webui"
arch="noarch"
license="GPLv2"
depends=""
makedepends=""
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/rameplayerorg/rameplayer-webui/releases/download/v$pkgver/rameplayer-webui-build.tar.gz
	use-server.patch
	"

_srcdir="$srcdir"/$pkgname

prepare() {
	local i
	cd "$_srcdir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_srcdir"
}

package() {
	mkdir -p "$pkgdir"/usr/share/$pkgname/www/
	cp -a "$_srcdir"/* "$pkgdir"/usr/share/$pkgname/www/
	rm -f \
		"$pkgdir"/usr/share/$pkgname/www/css/vendor.min.css \
		"$pkgdir"/usr/share/$pkgname/www/css/rameplayer.min.css \
		"$pkgdir"/usr/share/$pkgname/www/rameplayer.min.js \
		"$pkgdir"/usr/share/$pkgname/www/vendor.min.js
}

md5sums="115e58357fea68b72adaa76237021c94  rameplayer-webui-0.1.0.tar.gz
11f488922484acfd6ef6233c5bf4f537  use-server.patch"
sha256sums="5c2105d36bf0de01bdb9718d2bbf51f3767b1fa95006198968d1a49e630259e3  rameplayer-webui-0.1.0.tar.gz
0db2aa652e8a586d0c7c8b5f5609886aa19df1e52c1e892bdfecb4913d769d9a  use-server.patch"
sha512sums="c18f32d22e3f4d655dc80c7cd18bee66fa3b5f64410063e2caf88910705209a6d454d58af8fdc42a48d00a588db275e5e282c93d72e463dba4e6222439e69dc8  rameplayer-webui-0.1.0.tar.gz
dbd683c27eca66a4839fa0af588eae4d9cae1456624ff4ea3185c66949c183bf7615f27e3877ea8c1ece3b24a00daabef9a6955ccd288420b68688cca45bfed6  use-server.patch"
