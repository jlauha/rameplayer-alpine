# Maintainer: Timo Ter√§s <timo.teras@iki.fi>
pkgname=rameplayer-webui
pkgver=0.0.20151103
_commitid=073997483bd846df0794622e0ae54afbebfb1d01
pkgrel=0
pkgdesc="Rameplayer Web Interface"
url="https://github.com/rameplayerorg/rameplayer-webui"
arch="noarch"
license="GPLv2"
depends=""
makedepends=""
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/rameplayerorg/rameplayer-webui/archive/$_commitid.tar.gz
	use-server.patch

	http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css
	http://gitcdn.github.io/bootstrap-toggle/2.2.0/css/bootstrap-toggle.min.css
	http://code.jquery.com/jquery-2.1.4.min.js
	http://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js
	http://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-animate.min.js
	http://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-sanitize.min.js
	http://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-resource.min.js
	http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.14.3.js
	http://gitcdn.github.io/bootstrap-toggle/2.2.0/js/bootstrap-toggle.min.js
	http://cdnjs.cloudflare.com/ajax/libs/angular-translate/2.8.1/angular-translate.min.js
	http://cdnjs.cloudflare.com/ajax/libs/Sortable/1.4.2/Sortable.min.js
	http://rubaxa.github.io/Sortable/ng-sortable.js

	http://netdna.bootstrapcdn.com/bootstrap/3.1.1/fonts/glyphicons-halflings-regular.eot
	http://netdna.bootstrapcdn.com/bootstrap/3.1.1/fonts/glyphicons-halflings-regular.woff
	http://netdna.bootstrapcdn.com/bootstrap/3.1.1/fonts/glyphicons-halflings-regular.ttf
	http://netdna.bootstrapcdn.com/bootstrap/3.1.1/fonts/glyphicons-halflings-regular.svg
	https://themes.googleusercontent.com/static/fonts/ptserifcaption/v6/7xkFOeTxxO1GMC1suOUYWWhBabBbEjGd1iRmpyoZukE.woff
	https://themes.googleusercontent.com/static/fonts/opensans/v8/DXI1ORHCpsQm3Vp6mXoaTZ1r3JsPcQLi8jytr04NNhU.woff
	https://themes.googleusercontent.com/static/fonts/opensans/v8/K88pR3goAWT7BTt32Z01mz8E0i7KZn-EPnyo3HZu7kw.woff
	https://themes.googleusercontent.com/static/fonts/opensans/v8/k3k702ZOKiLJc3WVjuplzJ1r3JsPcQLi8jytr04NNhU.woff
	"

_srcdir="$srcdir"/$pkgname-$_commitid

prepare() {
	local i
	cd "$_srcdir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_srcdir"
}

package() {
	cd "$_srcdir"
	mkdir -p "$pkgdir"/usr/share/$pkgname/www/ "$pkgdir"/usr/share/$pkgname/www/ext/ "$pkgdir"/usr/share/$pkgname/www/fonts
	cp -a src/* "$pkgdir"/usr/share/$pkgname/www/
	for i in $source; do
		case $i in
		*.css|*.js) cp "$srcdir"/${i##*/} "$pkgdir"/usr/share/$pkgname/www/ext/ ;;
		*.woff|*.ttf|*.eot|*.svg) cp "$srcdir"/${i##*/} "$pkgdir"/usr/share/$pkgname/www/fonts/ ;;
		esac
	done
	sed -re 's,"//[-A-Za-z0-9/.]*/([-A-Za-z0-9.]*)","ext/\1",g' -i "$pkgdir"/usr/share/$pkgname/www/index.html
	sed -re 's,url\(.*/([^/]*)\),url(/fonts/\1),g' -i "$pkgdir"/usr/share/$pkgname/www/css/rameplayer.css
}

md5sums="281371dddaee07e05f03de1cbe0d353f  rameplayer-webui-0.0.20151103.tar.gz
a68f6ac4b3e578061dc1403d7990f951  use-server.patch
5d5357cb3704e1f43a1f5bfed2aebf42  bootstrap.min.css
94dc143d099325003c266df15d85334e  bootstrap-toggle.min.css
f9c7afd05729f10f55b689f36bb20172  jquery-2.1.4.min.js
26680517e1024ca2c4f9ed4e0aa1619e  angular.min.js
9bff95026ba5899f303e521fd6a36486  angular-animate.min.js
d5c3fd2933db0b93c96dcdf9f7fd87d1  angular-sanitize.min.js
d5e198295a929048f17477f3ea0e9eba  angular-resource.min.js
4e74c1522478a99fc663d05d5e71729c  ui-bootstrap-tpls-0.14.3.js
4f3a8e499de27e992b7f0e0f92de3491  bootstrap-toggle.min.js
4a58ccb27689656a443605c041ddd40f  angular-translate.min.js
f6a100628858eda532dcf104258e7151  Sortable.min.js
2d86036957c95289886c7001de1093ef  ng-sortable.js
7ad17c6085dee9a33787bac28fb23d46  glyphicons-halflings-regular.eot
68ed1dac06bf0409c18ae7bc62889170  glyphicons-halflings-regular.woff
e49d52e74b7689a0727def99da31f3eb  glyphicons-halflings-regular.ttf
32941d6330044744c02493835b799e90  glyphicons-halflings-regular.svg
fbab4b1c8cc18cbd06cd64819399b110  7xkFOeTxxO1GMC1suOUYWWhBabBbEjGd1iRmpyoZukE.woff
32eb33cb1b3372cc5407ca24dc49d95f  DXI1ORHCpsQm3Vp6mXoaTZ1r3JsPcQLi8jytr04NNhU.woff
48a40d69fc0470991491bb9da3ea7126  K88pR3goAWT7BTt32Z01mz8E0i7KZn-EPnyo3HZu7kw.woff
cc42266cd7747dc5baf34d3c9346588f  k3k702ZOKiLJc3WVjuplzJ1r3JsPcQLi8jytr04NNhU.woff"
sha256sums="76b6d3e56013af4e437c24e519ac965109d87bd8092b39fff49e8dd6e9d4f6e9  rameplayer-webui-0.0.20151103.tar.gz
6ab186e224dced79ddde41eddac2cb0d1a263dcf8548fa8416eb283d0ff5d9dd  use-server.patch
31fbd99641c212a6ad3681a2397bde13c148c0ccd98385bce6a7eb7c81417d87  bootstrap.min.css
ac3597e97ae646db56c9505e3e19aba479e767510f98ce96411425ea1d21ec9f  bootstrap-toggle.min.css
f16ab224bb962910558715c82f58c10c3ed20f153ddfaa199029f141b5b0255c  jquery-2.1.4.min.js
44f3ec41c48fab96c7477bc3516a6bf5747f34731ef50009f14c1f7f0dcb0433  angular.min.js
48f477e1622f070acc4d9a2405d6b689891ce07ba8c0383e903e15886ba5ed17  angular-animate.min.js
77507acdc56bfaf327c9ebf36c55d01ee652fc673059d06608e36f3c4e685e19  angular-sanitize.min.js
ea186b1ba06221cc0a15e37732814df4f2a15491f2049dfc782f0e764e5f2fe3  angular-resource.min.js
3094a3f53909c3489e703f2fa4182673293989c49398c24e4204b97e56418efe  ui-bootstrap-tpls-0.14.3.js
799360060bad2c8e3bacace97d48e2fdd0fdb7a2d1b36808dd8a9729da033a6a  bootstrap-toggle.min.js
dc4609175642cf9b68bd6651fc5072269d18d5df87fd8844c4785a123759dc2c  angular-translate.min.js
de331c27eeb8599b3358c590f6b179b92de6ffd2602f2a4da63b58b38c1cde3f  Sortable.min.js
778edb5a6c8ee1bbbd7bb3b6ad225960bee6b9ad75fe9b8c38c8709bec1d967c  ng-sortable.js
f495f34e4f177cf0115af995bbbfeb3fcabc88502876e76fc51a4ab439bc8431  glyphicons-halflings-regular.eot
fc969dc1c6ff531abcf368089dcbaf5775133b0626ff56b52301a059fc0f9e1e  glyphicons-halflings-regular.woff
bd18efd3efd70fec8ad09611a20cdbf99440b2c1d40085c29be036f891d65358  glyphicons-halflings-regular.ttf
d168d50a88c730b4e6830dc0da2a2b51dae4658a77d9619943c27b8ecfc19d1a  glyphicons-halflings-regular.svg
ef093aa8946b3b28ffcaffc4b2d6a06c60006e3a49cde27088321a19163fa7ac  7xkFOeTxxO1GMC1suOUYWWhBabBbEjGd1iRmpyoZukE.woff
09fd48874849a3dfa4a496483dd50687a91062ed0f57c9f00d3b73a394f50337  DXI1ORHCpsQm3Vp6mXoaTZ1r3JsPcQLi8jytr04NNhU.woff
7a723d2f99415f393e2537d9b0b0ba4c1b4d7a1ea964d1abdce0f310d92643ad  K88pR3goAWT7BTt32Z01mz8E0i7KZn-EPnyo3HZu7kw.woff
0628cef3bdb6e9823751f942a02252ae562bdfb98f94f2de68e176c35b7c84ba  k3k702ZOKiLJc3WVjuplzJ1r3JsPcQLi8jytr04NNhU.woff"
sha512sums="80e3dd63e830ea0334b2b2876d3869c86649556a8bc481a5902f8322b5e4e41f859547c454e495be628b458081d29a41a2afc39c3367db9d39438da7f8304c7f  rameplayer-webui-0.0.20151103.tar.gz
9e38ce22b8a387083236470227c4a9ed2cc04ffb50bdb1f4172149af9bb0ab9585ea268febc4960165df41637dffafc152f3e5b1710d68b3772598e7b00394d4  use-server.patch
7537e07bfce0a0c6293fb41b1f2e2058c106b1bb1d65e097cfb8ab22d8dc0b7b0f505b5fd24b856c3cff8b11bb02b4f19838cb5c399ecc7b9b78d8a4c8a195c9  bootstrap.min.css
8627af820103fbf21c7f1858452af802ea358db88e733a6aa4b6707d354bffa84500275b237590f12f4d097e7482c33d41513eccb93ff306fd4e582b8856d7f9  bootstrap-toggle.min.css
3dcae1ff6e98c64e3586be3eb14dd486c51f7d4e9fa1b8f9a628be4fbb6a9ab562f31f9b50e16d2e0c72b942bdbe84eee8e0ef87fa730db1428b199a59d88232  jquery-2.1.4.min.js
cb648ec1fb29db0fccd8af4bcd647215dfd5eb6c37cfd7eb4af001f7aa7b00997234817b3b8d00e9ecdcb55120c88da06a9ea2912a05a52aed0bc1b3b668e9e0  angular.min.js
c7156c4c643c45d49dc3797822e8ed7fd4dfc4430701628c8ad0390fe05cb69e10e3f226765940a7c2be60c391a2df297829e00d08950fe29f4c4dbcbd7d31c4  angular-animate.min.js
94e876663476da6d062b24b70c8e3aace40cb21b5d6c126b562432ffa287bacbba0972b2f9268e9c0db0e7902743bfed13fddcbdbbd93cf7de619d9aa1f14ea6  angular-sanitize.min.js
f3837ddfd8be3a8aa5e6654e162d0fa6f17d8636945558364d49170195fc19286056d2a82a196860af3daac2ad3ca14f4024ca1f654f952fd41f68f5d3d3c93a  angular-resource.min.js
b832db9063192e701be725305e585a73cecc8a33ae14b3d60a04fe94aa67759524fa9cd4466118470ad4790eee9b1ee99798a63257d9d4cc86da4d34650336ef  ui-bootstrap-tpls-0.14.3.js
17adfa30090c021b53a656a12fd17a2a64dfc53998700723702932bb47f4be84f737feafcc0b89e0dba6e796b480427e8512c785dcf7bc3bd9a5fea4aa011ae7  bootstrap-toggle.min.js
f33e163355d01253922d27f07062600e8ab6238e449f421f7711ae196a1d5d0ccfb29d8cb525be9413e01972871bd316b1323c648de3b642d994a6f668d918f2  angular-translate.min.js
7386799c8da96911f2d1b8a7f5f1b9b034b0bd57821656cc90a81876002a9eb35a43b522827e99479d30427591d4fd544a2e2fca86178a17914e6b5662d6639d  Sortable.min.js
487b57c8645077b3d96df00ff5e9c3769c6326e49f79e76605b935a231a9fd3289f412ba1ac82c5a03594629e967d0dfe0ef008f67547b55b43123ac318f0721  ng-sortable.js
830f534f97a8eb849fa7e67e533d89d150ca79233c0a31a9a54f27b4757a86c345f94533c41fc239899e642502fde7800170e6889d1544de69bd6809ade8387b  glyphicons-halflings-regular.eot
88beda715a3de8ea031048feb71fd3ffff9c695fd9874b06c8b1d31c88c7a8a653c4a67efab3b6f0b1f4dedc3c18a6436a4455984c0abce10a210baca0cb689d  glyphicons-halflings-regular.woff
f47c250403fbb7f2dfe1cb7068ea3a1496fd26d9df6bfc3a701d3909c5a2b69f43bab042df0dcb66e64c308945745b76b0e9ad2a750c69cc0c7271c6d6051a96  glyphicons-halflings-regular.ttf
c4847ea43f1de7621fda5e54211f313c90d5aa043e39cca99a7c24842e69f3ae20ae28c47f5046b5d9d89872e2b8c1a49e74db3fc40b61aa1be92be1a2c637a6  glyphicons-halflings-regular.svg
6ba2b826a7f5b83bd64e9d8b89965474247505ebf8aaf2434f52562d0a8e1f00df653a4b07e744005bcbfa2bbedd25e6b14d31a9cc4367064ff48fbb5a369ea3  7xkFOeTxxO1GMC1suOUYWWhBabBbEjGd1iRmpyoZukE.woff
37234f7986f18cd3bc5567059ad8f3d1b45d9f8cd62ebf6cd97a98c0ffb3d10458e69bf550a08af844c7c44bfaa2df509f6c84e841daed45b3e44a2b8ef61a66  DXI1ORHCpsQm3Vp6mXoaTZ1r3JsPcQLi8jytr04NNhU.woff
3b762e744913c511f0ea68af4e2c6548b68379067ab5f52408b3d68f8be8ffa922eebb40df66f1a00562963c8c5715575a0053e3a7bccf76064d05466dcb4f26  K88pR3goAWT7BTt32Z01mz8E0i7KZn-EPnyo3HZu7kw.woff
537ab65fc260e9bf4fd4c8410a7f1e9f4b24640ea9e7e2ce8e346620e0399e6474a4fd0c38980db250e563f02c755a17421bd30812d0417b2584a682e7943cb1  k3k702ZOKiLJc3WVjuplzJ1r3JsPcQLi8jytr04NNhU.woff"
