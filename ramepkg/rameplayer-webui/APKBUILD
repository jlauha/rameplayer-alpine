# Maintainer: Timo Ter√§s <timo.teras@iki.fi>
pkgname=rameplayer-webui
pkgver=0.0.9
pkgrel=0
pkgdesc="Rameplayer Web Interface"
url="https://github.com/rameplayerorg/rameplayer-webui"
arch="noarch"
license="GPLv2"
depends=""
makedepends=""
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/rameplayerorg/rameplayer-webui/releases/download/v$pkgver/rameplayer-webui-build.tar.gz
	use-server.patch
	"

_srcdir="$srcdir"/$pkgname

prepare() {
	local i
	cd "$_srcdir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_srcdir"
}

package() {
	mkdir -p "$pkgdir"/usr/share/$pkgname/www/
	cp -a "$_srcdir"/* "$pkgdir"/usr/share/$pkgname/www/
	rm -f \
		"$pkgdir"/usr/share/$pkgname/www/css/vendor.min.css \
		"$pkgdir"/usr/share/$pkgname/www/css/rameplayer.min.css \
		"$pkgdir"/usr/share/$pkgname/www/rameplayer.min.js \
		"$pkgdir"/usr/share/$pkgname/www/vendor.min.js
}

md5sums="e9db602fbc292076adda7c63b5bc1014  rameplayer-webui-0.0.9.tar.gz
5beede2ed3da9d3f995fa4f1cf4245b0  use-server.patch"
sha256sums="1b1ea20209c5795543698d74d41b97612b5dc41599b9b0096f49415121ed8a57  rameplayer-webui-0.0.9.tar.gz
c177a9d4ee6fab828ca6db54bd421417b47556a6b2b3bb2187969972997b3647  use-server.patch"
sha512sums="1c330074a2c1f309156ae01269b781d0acfde79239a75f9157ab7bb51094f1b7ffb32b5ef7020af9baab7e1bff7c825c1f4d8c029b456fc0a637e4082e87be20  rameplayer-webui-0.0.9.tar.gz
9a0c6537aaff2f2fdb7dab872891cdbe1526ccfd8728472da345d5879fb8d1e868eefb448a6c1a61aa91870ea1a5a936a690c345f950cb10e176d536244efded  use-server.patch"
