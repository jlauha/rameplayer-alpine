# Maintainer: Timo Ter√§s <timo.teras@iki.fi>
pkgname=rameplayer-webui
pkgver=0.0.11
pkgrel=0
pkgdesc="Rameplayer Web Interface"
url="https://github.com/rameplayerorg/rameplayer-webui"
arch="noarch"
license="GPLv2"
depends=""
makedepends=""
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/rameplayerorg/rameplayer-webui/releases/download/v$pkgver/rameplayer-webui-build.tar.gz
	use-server.patch
	"

_srcdir="$srcdir"/$pkgname

prepare() {
	local i
	cd "$_srcdir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_srcdir"
}

package() {
	mkdir -p "$pkgdir"/usr/share/$pkgname/www/
	cp -a "$_srcdir"/* "$pkgdir"/usr/share/$pkgname/www/
	rm -f \
		"$pkgdir"/usr/share/$pkgname/www/css/vendor.min.css \
		"$pkgdir"/usr/share/$pkgname/www/css/rameplayer.min.css \
		"$pkgdir"/usr/share/$pkgname/www/rameplayer.min.js \
		"$pkgdir"/usr/share/$pkgname/www/vendor.min.js
}

md5sums="4b77899fd08db5539e07b519eb18ac41  rameplayer-webui-0.0.11.tar.gz
11f488922484acfd6ef6233c5bf4f537  use-server.patch"
sha256sums="39400158c0e9a3b41d74d82197a98917c609953c231f59633c9dc77fc0a6a53d  rameplayer-webui-0.0.11.tar.gz
0db2aa652e8a586d0c7c8b5f5609886aa19df1e52c1e892bdfecb4913d769d9a  use-server.patch"
sha512sums="e2c4f3f82154eb136ad05c85c9ea7773e93c3ff7b3bff4fed0fb8a65cbab8e61c530d09cbcf60b26ea2f0928bf916b0185cc85be80073ff0c68bc793c4c33899  rameplayer-webui-0.0.11.tar.gz
dbd683c27eca66a4839fa0af588eae4d9cae1456624ff4ea3185c66949c183bf7615f27e3877ea8c1ece3b24a00daabef9a6955ccd288420b68688cca45bfed6  use-server.patch"
