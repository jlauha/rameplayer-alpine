# Maintainer: Timo Ter√§s <timo.teras@iki.fi>
pkgname=rameplayer-webui
pkgver=0.0.9
pkgrel=0
pkgdesc="Rameplayer Web Interface"
url="https://github.com/rameplayerorg/rameplayer-webui"
arch="noarch"
license="GPLv2"
depends=""
makedepends=""
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/rameplayerorg/rameplayer-webui/releases/download/v$pkgver/rameplayer-webui-build.tar.gz
	use-server.patch
	"

_srcdir="$srcdir"/$pkgname

prepare() {
	local i
	cd "$_srcdir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_srcdir"
}

package() {
	mkdir -p "$pkgdir"/usr/share/$pkgname/www/
	cp -a "$_srcdir"/* "$pkgdir"/usr/share/$pkgname/www/
	rm -f \
		"$pkgdir"/usr/share/$pkgname/www/css/vendor.min.css \
		"$pkgdir"/usr/share/$pkgname/www/css/rameplayer.min.css \
		"$pkgdir"/usr/share/$pkgname/www/rameplayer.min.js \
		"$pkgdir"/usr/share/$pkgname/www/vendor.min.js
}

md5sums="e9db602fbc292076adda7c63b5bc1014  rameplayer-webui-0.0.9.tar.gz
ef76492074447d3c630d422ea3150528  use-server.patch"
sha256sums="1b1ea20209c5795543698d74d41b97612b5dc41599b9b0096f49415121ed8a57  rameplayer-webui-0.0.9.tar.gz
e5288f82ca2f21510a32cb900c58b87e3b4168cb97982ea780b0a0d04f66da5e  use-server.patch"
sha512sums="1c330074a2c1f309156ae01269b781d0acfde79239a75f9157ab7bb51094f1b7ffb32b5ef7020af9baab7e1bff7c825c1f4d8c029b456fc0a637e4082e87be20  rameplayer-webui-0.0.9.tar.gz
61d110c11b2bd2a94b422de3c1a514718a570f150ca9b549ded0edcfb2a8917d28429146ef65286c3eb9b72860ad380376eb8915922c28fd042c6b5a4c723919  use-server.patch"
